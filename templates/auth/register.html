{% extends "base.html" %}

{% block title %}Register | YouTube Shorts Generator{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6 col-md-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white text-center py-3">
                    <h4 class="mb-0">Create Your Account</h4>
                </div>
                <div class="card-body p-4">
                    <form method="POST" action="{{ url_for('auth.register') }}" data-loading>
                        <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <input type="text" id="username" name="username" class="form-control" required autofocus>
                            <div class="form-text">Choose a unique username for your account.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="email" class="form-label">Email Address</label>
                            <input type="email" id="email" name="email" class="form-control" required>
                            <div class="form-text">We'll never share your email with anyone else.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" id="password" name="password" class="form-control" required>
                            <div class="form-text">Use at least 8 characters with a mix of letters, numbers, and symbols.</div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="confirm_password" class="form-label">Confirm Password</label>
                            <input type="password" id="confirm_password" name="confirm_password" class="form-control" required>
                        </div>
                        
                        <div class="mb-4 form-check">
                            <input type="checkbox" class="form-check-input" id="terms" required>
                            <label class="form-check-label" for="terms">
                                I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of Service</a> and <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a>
                            </label>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg">Create Account</button>
                        </div>
                    </form>
                </div>
                <div class="card-footer text-center py-3">
                    <p class="mb-0">Already have an account? <a href="{{ url_for('auth.login') }}" class="text-decoration-none">Login</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Terms of Service Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsModalLabel">Terms of Service</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h4>1. Acceptance of Terms</h4>
                <p>By accessing and using the YouTube Shorts Generator service, you agree to be bound by these Terms of Service.</p>
                
                <h4>2. Description of Service</h4>
                <p>YouTube Shorts Generator provides AI-powered content generation for creating YouTube Shorts videos. The service generates folk stories, voiceovers, and scene descriptions based on user inputs.</p>
                
                <h4>3. User Accounts</h4>
                <p>You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account.</p>
                
                <h4>4. Content Usage Rights</h4>
                <p>You retain ownership of the content generated through our service. However, you grant us a non-exclusive license to use, store, and analyze the content for service improvement purposes.</p>
                
                <h4>5. Prohibited Uses</h4>
                <p>You may not use the service to generate content that is illegal, harmful, threatening, abusive, harassing, defamatory, or otherwise objectionable.</p>
                
                <h4>6. Subscription and Billing</h4>
                <p>Paid plans are billed in advance on a monthly basis. You can cancel your subscription at any time, but refunds are not provided for partial billing periods.</p>
                
                <h4>7. Limitation of Liability</h4>
                <p>The service is provided "as is" without warranties of any kind. We are not responsible for any damages resulting from the use of our service.</p>
                
                <h4>8. Changes to Terms</h4>
                <p>We reserve the right to modify these terms at any time. Continued use of the service after any changes constitutes acceptance of the new terms.</p>
                
                <h4>9. Termination</h4>
                <p>We reserve the right to terminate or suspend your account for violations of these terms.</p>
                
                <h4>10. Governing Law</h4>
                <p>These terms shall be governed by and construed in accordance with applicable laws.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
            </div>
        </div>
    </div>
</div>

<!-- Privacy Policy Modal -->
<div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h4>1. Information We Collect</h4>
                <p>We collect information you provide directly to us when you create an account (email, username) and when you use our service (country inputs, generated content).</p>
                
                <h4>2. How We Use Information</h4>
                <p>We use the information to provide, maintain, and improve our services, process transactions, send communications, and for research and analytics purposes.</p>
                
                <h4>3. Information Sharing</h4>
                <p>We do not share your personal information with third parties except as described in this privacy policy (service providers, legal requirements).</p>
                
                <h4>4. Data Retention</h4>
                <p>We retain your account information for as long as your account is active. Generated content is stored for future reference and service improvement.</p>
                
                <h4>5. Security</h4>
                <p>We implement measures to protect your information, but no method of transmission over the Internet is 100% secure.</p>
                
                <h4>6. Your Rights</h4>
                <p>You have the right to access, correct, or delete your personal information. You can also object to the processing of your data.</p>
                
                <h4>7. Changes to Privacy Policy</h4>
                <p>We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page.</p>
                
                <h4>8. Contact Us</h4>
                <p>If you have any questions about this privacy policy, please contact us at privacy@youtubeshortsgen.com.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirm_password');
    
    form.addEventListener('submit', function(e) {
        if (password.value !== confirmPassword.value) {
            e.preventDefault();
            confirmPassword.classList.add('is-invalid');
            
            // Create error message if it doesn't exist
            if (!document.getElementById('password-mismatch')) {
                const errorDiv = document.createElement('div');
                errorDiv.id = 'password-mismatch';
                errorDiv.className = 'invalid-feedback';
                errorDiv.textContent = 'Passwords do not match';
                confirmPassword.parentNode.appendChild(errorDiv);
            }
        }
    });
    
    // Remove error when typing again
    confirmPassword.addEventListener('input', function() {
        confirmPassword.classList.remove('is-invalid');
    });
});
</script>
{% endblock %}